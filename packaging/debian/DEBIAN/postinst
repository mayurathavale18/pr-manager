#!/usr/bin/env bash
set -e

# Check for the GitHub CLI — required for pr-manager to work
if ! command -v gh &>/dev/null; then
    echo "━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━"
    echo "  GitHub CLI (gh) is not installed!"
    echo ""
    echo "  pr-manager requires gh to function.  Install it with:"
    echo ""
    echo "    sudo apt update && sudo apt install gh"
    echo ""
    echo "  Then authenticate:"
    echo "    gh auth login"
    echo "━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━"
fi

chmod +x /usr/bin/pr-manager

echo "pr-manager installed successfully!"
echo "Usage: pr-manager --help"

exit 0
